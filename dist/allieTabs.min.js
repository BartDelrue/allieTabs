!function(e,t){if("function"==typeof define&&define.amd)define(["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var a={};t(a),e.allieTabs=a}}(this,function(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});for(var c=function(e,t,a,r,i){for(var n=t.length;0<n;n--)t[n-1].setAttribute("aria-selected",!1),t[n-1].tabIndex=-1;e.setAttribute("aria-selected",!0),e.tabIndex=0;for(var l=a.length;0<l;l--)a[l-1].setAttribute("aria-hidden",!0);var o=r.querySelector(e.hash);o&&(o.setAttribute("aria-hidden",!1),i||(window.history&&history.replaceState?history.replaceState(null,null,e.hash):window.location.hash=e.hash,e.focus()))},h=function(a,r){var e=a.keyCode||a.which,i=a.target,t=function(){for(var e=r.length;0<e;e--)if(r[e-1]===i){a.preventDefault();var t=r[e]?r[e]:r[0];t.focus(),t.click()}},n=function(){for(var e=r.length;0<e;e--)if(r[e-1]===i){var t=r[e-2]?r[e-2]:r[r.length-1];a.preventDefault(),t.focus(),t.click()}};switch(e){case 37:case 38:n();break;case 40:case 39:t();break;case 36:a.preventDefault(),r[0].focus(),r[0].click();break;case 35:a.preventDefault(),r[r.length-1].focus(),r[r.length-1].click();break;case 13:document.querySelector(i.hash)&&!a.shiftKey&&(a.preventDefault(),window.history&&history.replaceState?history.replaceState(null,null,i.hash):window.location.hash=i.hash)}},e=exports.init=function(a,e){if(a){e=e||{};var t=window.location.hash,r=a.querySelector("ul[role=tablist]"),i=r.querySelectorAll("li[role=presentation]>a[role=tab]"),n=a.querySelectorAll("[role=tabpanel]");e.class&&a.classList.add(e.class);for(var l=i.length;0<l;l--)i[l-1].setAttribute("aria-selected",!1),i[l-1].setAttribute("aria-controls",i[l-1].hash.substr(1)),i[l-1].addEventListener("click",function(e){e.preventDefault(),c(e.target,i,n,a)}),i[l-1].addEventListener("keydown",function(e){h(e,i)});for(var o=n.length;0<o;o--)n[o-1].setAttribute("aria-hidden",!0),n[o-1].setAttribute("tabindex","-1");if(t){var s=r.querySelector('[href="'+t+'"]');s?s.click():c(i[0],i,n,a,!0)}else c(i[0],i,n,a,!0);window.addEventListener("hashchange",function(){var e=r.querySelector('[href="'+window.location.hash+'"]');e&&e.click();var t=a.querySelector(window.location.hash);t&&t.focus()})}},t=document.querySelectorAll("[data-tabs]"),a=t.length;0<a;a--)e(t[a-1],{class:"allie-tabs"})});
