!function(e,t){var a;"function"==typeof define&&define.amd?define(["exports"],t):"undefined"!=typeof exports?t(exports):(t(a={}),e.allieTabs=a)}(this,function(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});for(var h=function(e,t,a,r,n){for(var i=t.length;0<i;i--)t[i-1].setAttribute("aria-selected",!1),t[i-1].tabIndex=-1;e.setAttribute("aria-selected",!0),e.tabIndex=0;for(var c=a.length;0<c;c--)a[c-1].setAttribute("aria-hidden",!0);var l=r.querySelector(e.hash);l&&(l.setAttribute("aria-hidden",!1),n||(window.history&&history.replaceState?history.replaceState(null,null,e.hash):window.location.hash=e.hash,e.focus()))},d=function(a,r){function e(){for(var e,t=r.length;0<t;t--){r[t-1]===i&&(a.preventDefault(),(e=r[t]?r[t]:r[0]).focus(),e.click())}}function t(){for(var e,t=r.length;0<t;t--){r[t-1]===i&&(e=r[t-2]?r[t-2]:r[r.length-1],a.preventDefault(),e.focus(),e.click())}}var n=a.keyCode||a.which,i=a.target;switch(n){case 37:case 38:t();break;case 40:case 39:e();break;case 36:a.preventDefault(),r[0].focus(),r[0].click();break;case 35:a.preventDefault(),r[r.length-1].focus(),r[r.length-1].click()}},e=exports.init=function(a,e){if(a){var t=(e=e||{}).changeTab||h,r=e.handleKeyboardInput||d,n=window.location.hash,i=a.querySelector("[role=tablist]"),c=i.querySelectorAll("[role=tab]"),l=a.querySelectorAll("[role=tabpanel]");e.class&&a.classList.add(e.class);for(var o=c.length;0<o;o--)c[o-1].setAttribute("aria-selected",!1),c[o-1].setAttribute("aria-controls",c[o-1].hash.substr(1)),c[o-1].addEventListener("click",function(e){e.preventDefault(),t(e.target,c,l,a)}),c[o-1].addEventListener("keydown",function(e){r(e,c)});for(var s,u=l.length;0<u;u--)l[u-1].setAttribute("aria-hidden",!0),l[u-1].setAttribute("tabindex","-1");n&&(s=i.querySelector('[href="'+n+'"]'))?s.click():t(c[0],c,l,a,!0),window.addEventListener("hashchange",function(){var e=i.querySelector('[href="'+window.location.hash+'"]');e&&e.click();var t=a.querySelector(window.location.hash);t&&t.focus()})}},t=document.querySelectorAll("[data-tabs]"),a=t.length;0<a;a--)e(t[a-1],{class:"allie-tabs"})});
